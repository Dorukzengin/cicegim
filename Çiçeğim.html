<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benim Çiçeğim</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,600&display=swap" rel="stylesheet">
    
    <style>
        /* --- GENEL AYARLAR --- */
        body {
            margin: 0;
            padding: 0;
            background-color: #000; /* Simsiyah arka plan */
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
        }

        /* --- KONTEYNERLAR --- */
        #container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- ÇİÇEK (CSS İLE ÇİZİLMİŞ LİLYUM BUKETİ) --- */
        .flower-wrapper {
            position: relative;
            width: 380px; /* Daha geniş buket */
            height: 520px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            opacity: 1;
            transition: opacity 2s ease; /* Kararma efekti için */
        }

        /* Saplar */
        .stem {
            position: absolute;
            bottom: 0;
            width: 6px;
            background: linear-gradient(180deg, #2b004b 0%, #6b2fa6 60%); /* Mor tonlu sap */
            border-radius: 6px;
            box-shadow: 0 0 18px rgba(139,71,137,0.7); /* Mor neon efekti */
            transform-origin: bottom center;
            height: 0; /* Başlangıçta yok */
            animation: growStem 3s ease-out forwards;
        }

        /* Farklı saplar oluşturarak buket havası verelim */
        .stem.center { height: 0; animation-delay: 0.5s; left: 50%; transform: translateX(-50%); width: 6px; }
        .stem.left { height: 0; animation-delay: 1s; left: 35%; transform: rotate(-15deg); }
        .stem.right { height: 0; animation-delay: 1.5s; left: 65%; transform: rotate(15deg); }

        /* Çiçek Başları (Lilyum Formu) */
        .flower-head {
            position: absolute;
            width: 0;
            height: 0;
            bottom: 100%; /* Sapın ucunda */
            left: 50%;
            transform: translateX(-50%) scale(0);
            transform-origin: bottom center;
            opacity: 0;
        }

    /* Çiçek Animasyonları: Her .flower-head'e animasyon uygulanacak; gecikmeler inline stil ile kontrol ediliyor. */
    .stem .flower-head { animation: bloom 2.4s cubic-bezier(.2,.9,.2,1) 3.2s forwards; }

        /* Lilyum Yaprakları (Petals) - daha açık lila ve daha güçlü glow */
        .petal {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 46px;
            height: 90px;
            background: radial-gradient(circle at 40% 28%, #f7efff 0%, #d6b7ff 22%, #b68cff 45%, #7a3fbf 75%, #2e004f 100%);
            border-radius: 50% 50% 20% 20% / 60% 60% 20% 20%;
            box-shadow: 0 0 52px rgba(182,140,255,0.96), inset 0 -10px 30px rgba(255,255,255,0.18);
            transform-origin: bottom center;
            opacity: 1;
            filter: drop-shadow(0 8px 30px rgba(140,80,200,0.7));
            transition: transform 220ms ease;
        }

        /* Lilyumun 5 yapraklı, daha dolgun yapısı */
        .petal.one   { transform: translateX(-50%) rotate(0deg)   translateY(-6px); }
        .petal.two   { transform: translateX(-50%) rotate(-36deg) translateY(-4px); }
        .petal.three { transform: translateX(-50%) rotate(36deg)  translateY(-4px); }
        .petal.four  { transform: translateX(-50%) rotate(-72deg) translateY(2px); }
        .petal.five  { transform: translateX(-50%) rotate(72deg)  translateY(2px); }
        
        /* Orta tomurcuk */
        .core {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 30px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px #fff;
            z-index: 10;
        }

        /* Küçük parlayan partiküller (referansta gözüken noktasal parıltılar için) */
        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, #ffe9ff 0%, #b48cff 50%, rgba(138,69,214,0.0) 70%);
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0.9;
            box-shadow: 0 0 12px rgba(180,140,255,0.9);
            animation: floatSpark 4s ease-in-out infinite;
        }

        @keyframes floatSpark {
            0% { transform: translateY(0) scale(0.9); opacity: 0.9 }
            50% { transform: translateY(-18px) scale(1.1); opacity: 1 }
            100% { transform: translateY(0) scale(0.9); opacity: 0.85 }
        }

        /* --- YAZI STİLLERİ --- */
        .text-overlay {
            position: absolute;
            color: #fff;
            text-align: center;
            font-size: 2rem;
            opacity: 0; /* Başlangıçta görünmez */
            transition: opacity 2s ease-in-out;
            text-shadow: 0 0 10px #d8bfd8, 0 0 20px #4b0082; /* Neon yazı efekti */
            width: 80%;
            line-height: 1.5;
        }

        /* İkinci yazı biraz daha büyük olabilir */
        #text2 {
            font-size: 2.5rem;
            font-weight: bold;
            color: #e0b0ff;
        }

        /* --- ANİMASYON KEYFRAMES --- */
        @keyframes growStem {
            0% { height: 0; }
            100% { height: 300px; } /* Sapın son boyu */
        }

        @keyframes bloom {
            0% { transform: translateX(-50%) scale(0); opacity: 0; }
            70% { transform: translateX(-50%) scale(1.28); opacity: 1; }
            100% { transform: translateX(-50%) scale(1.5); opacity: 1; }
        }

        /* Ortam (vignette + hafif üst spot) */
        #container::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 50% 30%, rgba(150,80,200,0.08) 0%, rgba(0,0,0,0.55) 60%, rgba(0,0,0,0.9) 100%);
            pointer-events: none;
            z-index: 50;
            mix-blend-mode: normal;
        }

        /* Alt kısımda çiçeğin altında yumuşak gölge */
        .ground-shadow {
            position: absolute;
            left: 50%;
            bottom: -8px;
            transform: translateX(-50%);
            width: 460px;
            height: 140px;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0.52) 0%, rgba(0,0,0,0.18) 35%, rgba(0,0,0,0) 70%);
            filter: blur(12px);
            z-index: 5;
            opacity: 0.95;
        }

        /* Yaprak/ortam hafif hareketi */
        .leaf {
            position: absolute;
            width: 8px;
            height: 92px;
            background: linear-gradient(180deg, rgba(120,200,140,0.12), rgba(60,120,80,0.06));
            border-radius: 8px;
            transform-origin: bottom center;
            filter: blur(0.8px);
            opacity: 0.9;
            animation: sway 6s ease-in-out infinite;
        }

        @keyframes sway {
            0% { transform: rotate(-6deg) translateY(0); }
            50% { transform: rotate(6deg) translateY(-6px); }
            100% { transform: rotate(-6deg) translateY(0); }
        }

        /* --- SINIFLAR (JS ile kontrol edilecek) --- */
        .fade-out { opacity: 0 !important; }
        .fade-in { opacity: 1 !important; }

        /* Başlangıç overlay: kullanıcı onayı (sadece 'Evet') */
        #startOverlay {
            position: fixed;
            inset: 0;
            background: linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.85));
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        #startCard {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.06);
            padding: 28px 34px;
            border-radius: 12px;
            text-align: center;
            color: #f6e9ff;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            max-width: 420px;
            width: calc(100% - 60px);
        }

        #startCard h1 { margin: 0 0 12px; font-size: 1.45rem; letter-spacing: 0.2px; }
        #startCard p { margin: 0 0 20px; opacity: 0.9; }

        #startYes {
            background: linear-gradient(180deg,#a663d6,#6b2fa6);
            color: #fff;
            border: none;
            padding: 12px 22px;
            border-radius: 999px;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 8px 18px rgba(107,47,118,0.35);
        }

        /* Animasyonları başlangıçta durdurmak için (çiçek sahnesinde) */
        #flower-scene.paused, #flower-scene.paused * {
            animation-play-state: paused !important;
            transition: none !important;
        }
    </style>
</head>
<body>

    <div id="container">
        <div id="flower-scene" class="flower-wrapper">
            <!-- Daha yoğun buket: 7 sap, farklı boyutlar -->
            <div class="stem" style="left:24%; transform: rotate(-18deg);" >
                <div class="flower-head" style="animation-delay:3.2s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="petal four"></div>
                    <div class="petal five"></div>
                    <div class="core"></div>
                </div>
            </div>

            <div class="stem" style="left:34%; transform: rotate(-8deg);">
                <div class="flower-head" style="animation-delay:3.5s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="petal four"></div>
                    <div class="petal five"></div>
                    <div class="core"></div>
                </div>
            </div>

            <div class="stem" style="left:44%; transform: rotate(-3deg);">
                <div class="flower-head" style="animation-delay:3.8s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="petal four"></div>
                    <div class="petal five"></div>
                    <div class="core"></div>
                </div>
            </div>

            <div class="stem" style="left:53%; transform: rotate(3deg);">
                <div class="flower-head" style="animation-delay:4s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="petal four"></div>
                    <div class="petal five"></div>
                    <div class="core"></div>
                </div>
            </div>

            <div class="stem" style="left:63%; transform: rotate(12deg);">
                <div class="flower-head" style="animation-delay:4.2s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="petal four"></div>
                    <div class="petal five"></div>
                    <div class="core"></div>
                </div>
            </div>

            <!-- İki küçük tomurcuk -->
            <div class="stem" style="left:47%; transform: rotate(-12deg);">
                <div class="flower-head" style="animation-delay:4.4s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="core"></div>
                </div>
            </div>

            <div class="stem" style="left:58%; transform: rotate(18deg);">
                <div class="flower-head" style="animation-delay:4.6s;">
                    <div class="petal one"></div>
                    <div class="petal two"></div>
                    <div class="petal three"></div>
                    <div class="core"></div>
                </div>
            </div>

            <!-- Parıltı partikülleri -->
            <div class="sparkle" style="left:48%; top:18%; width:6px; height:6px;"></div>
            <div class="sparkle" style="left:54%; top:12%; width:8px; height:8px; animation-duration:5s;"></div>
            <div class="sparkle" style="left:39%; top:26%; width:5px; height:5px; animation-duration:3.6s;"></div>
            <div class="sparkle" style="left:62%; top:22%; width:6px; height:6px; animation-duration:4.2s;"></div>
            <div class="sparkle" style="left:50%; top:8%; width:7px; height:7px; animation-duration:4.8s;"></div>
    </div>
    <!-- Sahne altı gölge -->
    <div class="ground-shadow"></div>

    <!-- Ortam yaprakları (hafif hareketli) -->
    <div class="leaf" style="left:18%; bottom:10%; transform: rotate(-18deg); animation-delay:0s;"></div>
    <div class="leaf" style="left:72%; bottom:8%; transform: rotate(16deg); animation-delay:1.2s;"></div>

    <!-- Birkaç ekstra parıltı -->
    <div class="sparkle" style="left:42%; top:20%; width:5px; height:5px; animation-duration:3.2s;"></div>
    <div class="sparkle" style="left:56%; top:16%; width:6px; height:6px; animation-duration:5.2s;"></div>
            <div class="sparkle" style="left:60%; top:28%; width:4px; height:4px; animation-duration:3.8s;"></div>

        <div id="text1" class="text-overlay">
            Benim çiçeğim sensin. <br>
            Bırak bu solsun. <br>
            Ben seni ömrüm boyunca soldurmam...
        </div>

        <div id="text2" class="text-overlay">
            4. ayımız kutlu olsun çiçeğim
        </div>
    </div>

    <!-- Arkaplan müziği: 'SOMH.mp3' dosyasını aynı klasöre koyduğunuzu varsaydım. -->
    <audio id="bgMusic" src="SOMH.mp3" preload="auto" loop></audio>

    <!-- Başlangıç overlay: sadece 'Evet' seçeneği var -->
    <div id="startOverlay">
        <div id="startCard">
            <h1>Benimle bir ömüre var mısın?</h1>
            <button id="startYes">Evet</button>
        </div>
    </div>

    <script>
        // Sayfa açıldığında animasyonlar duracak (flower-scene.paused). Kullanıcı 'Evet' dediğinde başlatılacak.

        const flowerScene = document.getElementById('flower-scene');
        const text1 = document.getElementById('text1');
        const text2 = document.getElementById('text2');
        const bgMusic = document.getElementById('bgMusic');
        const startOverlay = document.getElementById('startOverlay');
        const startYes = document.getElementById('startYes');

        // Timeline fonksiyonu; sadece start sonrası çağrılacak
        function startTimeline() {
            // 2. 8. Saniyede Çiçekler kararır (Fade Out)
            setTimeout(() => {
                flowerScene.classList.add('fade-out');
                // Çiçek kararırken ve hemen sonrasında partikülleri kaldır
                setTimeout(() => {
                    document.querySelectorAll('.sparkle').forEach(s => s.remove());
                }, 250);
            }, 8000);

            // 3. 10. Saniyede İlk Yazı Gelir (Fade In)
            setTimeout(() => { text1.classList.add('fade-in'); }, 10000);

            // 4. 15. Saniyede İlk Yazı Gider (Fade Out)
            setTimeout(() => { text1.classList.remove('fade-in'); }, 15000);

            // 5. 17. Saniyede İkinci Yazı Gelir (Fade In)
            setTimeout(() => { text2.classList.add('fade-in'); }, 17000);

            // 6. 21. Saniyede İkinci Yazı Gider (Fade Out)
            setTimeout(() => { text2.classList.remove('fade-in'); }, 21000);
        }

        // Başlat butonuna tıklanınca: overlay gizlenir, müzik çalınır, animasyonlar devam eder
        startYes.addEventListener('click', async function() {
            // overlay kapat
            startOverlay.style.display = 'none';

            // kullanıcı etkileşimi olduğu için müziği sesli oynatmayı deneyebiliriz
            if (bgMusic) {
                try {
                    bgMusic.volume = 0.85;
                    await bgMusic.play();
                } catch (e) {
                    // Eğer çalınmazsa, sessiz olarak dene (nadir)
                    try { bgMusic.muted = true; await bgMusic.play(); } catch (e2) {}
                }
            }

            // Animasyonları devam ettir
            flowerScene.classList.remove('paused');

            // Başlat zaman çizelgesini çalıştır
            startTimeline();
        });

        // Sayfa yüklendiğinde flower-scene'in zaten 'paused' olması gerekir; biz yinede garanti için ekleyelim
        document.addEventListener('DOMContentLoaded', () => {
            if (!flowerScene.classList.contains('paused')) flowerScene.classList.add('paused');
        });
    </script>
</body>
</html>